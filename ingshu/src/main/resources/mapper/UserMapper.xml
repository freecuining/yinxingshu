<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yxs.dao.UserDao">
  <cache type="org.mybatis.caches.ehcache.EhcacheCache" />
  <resultMap id="loginran" type="com.yxs.bean.UserBean">
		<id column="user_id" jdbcType="INTEGER" property="userId" />
		<id column="dept_id" jdbcType="INTEGER" property="deptId" />
		<result column="user_code" jdbcType="INTEGER" property="userCode" />
		<result column="loginname" jdbcType="VARCHAR" property="loginName" />
		<result column="password" jdbcType="VARCHAR" property="password" />
		<result column="user_name" jdbcType="VARCHAR" property="userName" />
		<result column="sex" jdbcType="INTEGER" property="sex" />
		<result column="id_card" jdbcType="VARCHAR" property="idCard" />
		<result column="phone" jdbcType="VARCHAR" property="phone" />
		<result column="mobile_phone" jdbcType="VARCHAR" property="mobilePhone" />
		<result column="user_email" jdbcType="VARCHAR" property="userEmail" />
		<result column="address" jdbcType="VARCHAR" property="address" />
		<result column="img" jdbcType="VARCHAR" property="img" />
		<result column="user_remark" jdbcType="VARCHAR" property="userRemark" />
		<result column="login_count" jdbcType="INTEGER" property="loginCount" />
		<result column="del" jdbcType="INTEGER" property="del" />
	</resultMap>
	<select id="login" resultMap="loginran">
	select user_id,dept_id,user_code,loginname,password,user_name,sex,id_card,phone,del from user_tb
	where loginname=#{loginName} and password=#{password}
	</select>
</mapper>